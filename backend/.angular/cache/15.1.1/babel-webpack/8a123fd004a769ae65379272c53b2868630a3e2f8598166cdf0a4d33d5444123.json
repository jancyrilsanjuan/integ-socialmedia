{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/joooo/Desktop/integ/socialmedia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(postService, authService) {\n    this.postService = postService;\n    this.authService = authService;\n    this.images = ['https://images-na.ssl-images-amazon.com/images/I/51DR2KzeGBL._AC_.jpg', 'https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_960_720.jpg', 'https://torange.biz/photofx/93/8/light-vivid-colors-fragment-love-background-rain-fall-cover-93412.jpg', 'https://cdn.pixabay.com/photo/2017/07/18/18/24/dove-2516641_960_720.jpg', 'https://c0.wallpaperflare.com/preview/956/761/225/5be97da101a3f.jpg', 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Swepac_FB_465%2C_RV70%2C_with_passing_lorry.jpg'];\n    this.subs = [];\n    this.posts = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.subs.push(_this.postService.getAllPosts().subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (posts) {\n          _this.posts = posts;\n          console.log(posts);\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n      _this.subs.push(_this.authService.CurrentUser().subscribe(user => {\n        _this.user = user;\n        console.log(user);\n      }));\n    })();\n  }\n  postMessage(form) {\n    const {\n      message\n    } = form.value;\n    this.postService.postMessage(message, `${this.user.firstName} ${this.user.lastName}`, {\n      avatar: this.user.avatar,\n      lastName: this.user.lastName,\n      firstname: this.user.firstName\n    });\n    form.resetForm();\n  }\n  logout() {\n    this.authService.Logout();\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";;AAAA,SAAQA,SAAS,QAAe,eAAe;AAWxC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAaxBC,YAAoBC,WAAwB,EACxBC,WAAwB;IADxB,gBAAW,GAAXD,WAAW;IACX,gBAAW,GAAXC,WAAW;IAb/B,WAAM,GAAU,CACd,uEAAuE,EACvE,8EAA8E,EAC9E,wGAAwG,EACxG,yEAAyE,EACzE,qEAAqE,EACrE,qGAAqG,CACtG;IACD,SAAI,GAAmB,EAAE;IACzB,UAAK,GAAU,EAAE;EAKjB;EAEMC,QAAQ;IAAA;IAAA;MACZ,KAAI,CAACC,IAAI,CAACC,IAAI,CAAC,KAAI,CAACJ,WAAW,CAACK,WAAW,EAAE,CAACC,SAAS;QAAA,6BAAC,WAAOC,KAAK,EAAI;UACtE,KAAI,CAACA,KAAK,GAAGA,KAAK;UAClBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QACpB,CAAC;QAAA;UAAA;QAAA;MAAA,IAAC,CAAC;MAEH,KAAI,CAACJ,IAAI,CAACC,IAAI,CAAC,KAAI,CAACH,WAAW,CAACS,WAAW,EAAE,CAACJ,SAAS,CAACK,IAAI,IAAG;QAC7D,KAAI,CAACA,IAAI,GAAGA,IAAI;QAChBH,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;MACnB,CAAC,CAAC,CAAC;IAAC;EAEN;EAEAC,WAAW,CAACC,IAAY;IACtB,MAAM;MAACC;IAAO,CAAC,GAAGD,IAAI,CAACE,KAAK;IAC5B,IAAI,CAACf,WAAW,CAACY,WAAW,CAACE,OAAO,EAClC,GAAG,IAAI,CAACH,IAAI,CAACK,SAAS,IAAI,IAAI,CAACL,IAAI,CAACM,QAAQ,EAAE,EAC9C;MACEC,MAAM,EAAE,IAAI,CAACP,IAAI,CAACO,MAAM;MACxBD,QAAQ,EAAE,IAAI,CAACN,IAAI,CAACM,QAAQ;MAC5BE,SAAS,EAAE,IAAI,CAACR,IAAI,CAACK;KACtB,CACF;IACDH,IAAI,CAACO,SAAS,EAAE;EAClB;EAEAC,MAAM;IACJ,IAAI,CAACpB,WAAW,CAACqB,MAAM,EAAE;EAC3B;CACD;AA9CYxB,aAAa,eALzBD,SAAS,CAAC;EACT0B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW3B,aAAa,CA8CzB;SA9CYA,aAAa","names":["Component","HomeComponent","constructor","postService","authService","ngOnInit","subs","push","getAllPosts","subscribe","posts","console","log","CurrentUser","user","postMessage","form","message","value","firstName","lastName","avatar","firstname","resetForm","logout","Logout","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\joooo\\Desktop\\integ\\socialmedia\\src\\app\\pages\\home\\home.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {NgForm} from '@angular/forms';\nimport {PostService} from '../../services/post.service';\nimport {Subscription} from 'rxjs';\nimport {AuthService, UserData} from '../../services/auth.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  images: any[] = [\n    'https://images-na.ssl-images-amazon.com/images/I/51DR2KzeGBL._AC_.jpg',\n    'https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_960_720.jpg',\n    'https://torange.biz/photofx/93/8/light-vivid-colors-fragment-love-background-rain-fall-cover-93412.jpg',\n    'https://cdn.pixabay.com/photo/2017/07/18/18/24/dove-2516641_960_720.jpg',\n    'https://c0.wallpaperflare.com/preview/956/761/225/5be97da101a3f.jpg',\n    'https://upload.wikimedia.org/wikipedia/commons/9/9a/Swepac_FB_465%2C_RV70%2C_with_passing_lorry.jpg'\n  ];\n  subs: Subscription[] = [];\n  posts: any[] = [];\n  user: UserData;\n\n  constructor(private postService: PostService,\n              private authService: AuthService) {\n  }\n\n  async ngOnInit(): Promise<void> {\n    this.subs.push(this.postService.getAllPosts().subscribe(async (posts) => {\n      this.posts = posts;\n      console.log(posts);\n    }));\n\n    this.subs.push(this.authService.CurrentUser().subscribe(user => {\n      this.user = user;\n      console.log(user);\n    }));\n\n  }\n\n  postMessage(form: NgForm): void {\n    const {message} = form.value;\n    this.postService.postMessage(message,\n      `${this.user.firstName} ${this.user.lastName}`,\n      {\n        avatar: this.user.avatar,\n        lastName: this.user.lastName,\n        firstname: this.user.firstName\n      },\n    );\n    form.resetForm();\n  }\n\n  logout(): void {\n    this.authService.Logout();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}