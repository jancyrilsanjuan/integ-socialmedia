{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nlet ProfileComponent = class ProfileComponent {\n  constructor(http, router, route) {\n    this.http = http;\n    this.router = router;\n    this.route = route;\n    this.profile = {};\n  }\n  ngOnInit() {\n    const id = localStorage.getItem('id');\n    this.http.get(`http://127.0.0.1:8000/api/user/details/${id}`).subscribe({\n      next: data => {\n        this.profile = data;\n        console.log(localStorage.getItem('id'));\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n  onSubmit() {\n    const id = localStorage.getItem('id');\n    this.http.put(`http://127.0.0.1:8000/api/user/details/${id}`, {\n      first_name: this.form.value.first_name,\n      last_name: this.form.value.last_name,\n      email: this.form.value.email,\n      password: this.form.value.password\n    }).subscribe({\n      next: response => {\n        console.log(response);\n        this.ngOnInit();\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n};\n__decorate([ViewChild(\"myForm\")], ProfileComponent.prototype, \"form\", void 0);\nProfileComponent = __decorate([Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})], ProfileComponent);\nexport { ProfileComponent };","map":{"version":3,"mappings":";AACA,SAASA,SAAS,EAAEC,SAAS,QAAQ,eAAe;AAe7C,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAG3BC,YAAoBC,IAAgB,EAAUC,MAAc,EAAUC,KAAqB;IAAvE,SAAI,GAAJF,IAAI;IAAsB,WAAM,GAANC,MAAM;IAAkB,UAAK,GAALC,KAAK;IAE3E,YAAO,GAAG,EAAa;EADvB;EAEAC,QAAQ;IACN,MAAMC,EAAE,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IACrC,IAAI,CAACN,IAAI,CAACO,GAAG,CAAM,0CAA0CH,EAAE,EAAE,CAAC,CAACI,SAAS,CAAC;MAC3EC,IAAI,EAAEC,IAAI,IAAG;QACX,IAAI,CAACC,OAAO,GAAGD,IAAI;QACnBE,OAAO,CAACC,GAAG,CAACR,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,CAAC;MACzC,CAAC;MACDQ,KAAK,EAAEA,KAAK,IAAG;QACbF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;KACD,CAAC;EACJ;EACAC,QAAQ;IACN,MAAMX,EAAE,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IACrC,IAAI,CAACN,IAAI,CAACgB,GAAG,CAAC,0CAA0CZ,EAAE,EAAE,EAAE;MAC5Da,UAAU,EAAE,IAAI,CAACC,IAAI,CAACC,KAAK,CAACF,UAAU;MACtCG,SAAS,EAAE,IAAI,CAACF,IAAI,CAACC,KAAK,CAACC,SAAS;MACpCC,KAAK,EAAE,IAAI,CAACH,IAAI,CAACC,KAAK,CAACE,KAAK;MAC5BC,QAAQ,EAAE,IAAI,CAACJ,IAAI,CAACC,KAAK,CAACG;KAC3B,CAAC,CAACd,SAAS,CAAC;MACXC,IAAI,EAAGc,QAAa,IAAI;QACtBX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC;QACrB,IAAI,CAACpB,QAAQ,EAAE;MACjB,CAAC;MACDW,KAAK,EAAGA,KAAK,IAAI;QACfF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;KACD,CAAC;EACJ;CACD;AAjCCU,YADC3B,SAAS,CAAC,QAAQ,CAAC,8CACN;AAFHC,gBAAgB,eAL5BF,SAAS,CAAC;EACT6B,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACW7B,gBAAgB,CAmC5B;SAnCYA,gBAAgB","names":["Component","ViewChild","ProfileComponent","constructor","http","router","route","ngOnInit","id","localStorage","getItem","get","subscribe","next","data","profile","console","log","error","onSubmit","put","first_name","form","value","last_name","email","password","response","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\laragon\\www\\integ-socialmedia\\frontend\\socialmedia\\src\\app\\pages\\profile\\profile.component.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\ninterface Profile {\n  id: number\n  first_name: string\n  last_name: string\n  email: string\n\n}\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent {\n  @ViewChild(\"myForm\")\n  form!: NgForm;\n  constructor(private http: HttpClient, private router: Router, private route: ActivatedRoute) {\n  }\n  profile = {} as Profile;\n  ngOnInit() {\n    const id = localStorage.getItem('id')\n    this.http.get<any>(`http://127.0.0.1:8000/api/user/details/${id}`).subscribe({\n      next: data => {\n        this.profile = data\n        console.log(localStorage.getItem('id'))\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    })\n  }\n  onSubmit() {\n    const id = localStorage.getItem('id')\n    this.http.put(`http://127.0.0.1:8000/api/user/details/${id}`, {\n      first_name: this.form.value.first_name,\n      last_name: this.form.value.last_name,\n      email: this.form.value.email,\n      password: this.form.value.password,\n    }).subscribe({\n      next: (response: any) => {\n        console.log(response)\n        this.ngOnInit()\n      },\n      error: (error) => {\n        console.error('There was an error!', error);\n      },\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}