{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"myForm\"];\nexport class ProfileComponent {\n  constructor(http, router, route) {\n    this.http = http;\n    this.router = router;\n    this.route = route;\n    this.profile = {};\n  }\n  ngOnInit() {\n    const id = localStorage.getItem('id');\n    this.http.get(`http://127.0.0.1:8000/api/user/details/${id}`).subscribe({\n      next: data => {\n        this.profile = data;\n        console.log(localStorage.getItem('id'));\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n  onSubmit() {\n    const id = localStorage.getItem('id');\n    this.http.put(`http://127.0.0.1:8000/api/user/details/${id}`, {\n      first_name: this.form.value.first_name,\n      last_name: this.form.value.last_name,\n      email: this.form.value.email,\n      password: this.form.value.password\n    }).subscribe({\n      next: response => {\n        console.log(response);\n        this.ngOnInit();\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  viewQuery: function ProfileComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n    }\n  },\n  decls: 47,\n  vars: 3,\n  consts: [[2, \"background-color\", \"#eee\"], [1, \"container\", \"py-5\"], [1, \"row\"], [1, \"col-lg-4\"], [1, \"card\", \"mb-4\"], [1, \"card-body\", \"text-center\"], [\"src\", \"https://bootdey.com/img/Content/avatar/avatar3.png\", \"alt\", \"\"], [1, \"my-3\"], [1, \"text-muted\", \"mb-1\"], [1, \"col-lg-8\"], [3, \"ngSubmit\"], [\"myForm\", \"ngForm\"], [1, \"card-body\"], [1, \"col-sm-3\"], [1, \"mb-0\"], [1, \"col-sm-9\"], [\"name\", \"first_name\", \"placeholder\", \"Enter first name\", \"ngModel\", \"\", 1, \"form-control\"], [\"name\", \"last_name\", \"placeholder\", \"Enter last name\", \"ngModel\", \"\", 1, \"form-control\"], [\"name\", \"email\", \"type\", \"email\", \"placeholder\", \"Enter email\", \"type\", \"email\", \"ngModel\", \"\", 1, \"form-control\"], [\"name\", \"password\", \"type\", \"password\", \"placeholder\", \"Enter password\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"w-100\", \"btn\", \"btn-lg\", \"btn-primary\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n      i0.ɵɵelement(6, \"img\", 6);\n      i0.ɵɵtext(7, \" class=\\\"rounded-circle img-fluid\\\" style=\\\"width: 150px;\\\"> \");\n      i0.ɵɵelementStart(8, \"h5\", 7);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\", 8);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 4)(14, \"form\", 10, 11);\n      i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_Template_form_ngSubmit_14_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(16, \"div\", 12)(17, \"div\", 2)(18, \"div\", 13)(19, \"p\", 14);\n      i0.ɵɵtext(20, \"First Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 15);\n      i0.ɵɵelement(22, \"input\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(23, \"hr\");\n      i0.ɵɵelementStart(24, \"div\", 2)(25, \"div\", 13)(26, \"p\", 14);\n      i0.ɵɵtext(27, \"Last Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 15);\n      i0.ɵɵelement(29, \"input\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(30, \"hr\");\n      i0.ɵɵelementStart(31, \"div\", 2)(32, \"div\", 13)(33, \"p\", 14);\n      i0.ɵɵtext(34, \"Email\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"div\", 15);\n      i0.ɵɵelement(36, \"input\", 18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(37, \"hr\");\n      i0.ɵɵelementStart(38, \"div\", 2)(39, \"div\", 13)(40, \"p\", 14);\n      i0.ɵɵtext(41, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\", 15);\n      i0.ɵɵelement(43, \"input\", 19);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(44, \"br\");\n      i0.ɵɵelementStart(45, \"button\", 20);\n      i0.ɵɵtext(46, \"Edit\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate2(\"\", ctx.profile.first_name, \" \", ctx.profile.last_name, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.profile.email);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAgBA,OAAM,MAAOA,gBAAgB;EAG3BC,YAAoBC,IAAgB,EAAUC,MAAc,EAAUC,KAAqB;IAAvE,SAAI,GAAJF,IAAI;IAAsB,WAAM,GAANC,MAAM;IAAkB,UAAK,GAALC,KAAK;IAE3E,YAAO,GAAG,EAAa;EADvB;EAEAC,QAAQ;IACN,MAAMC,EAAE,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IACrC,IAAI,CAACN,IAAI,CAACO,GAAG,CAAM,0CAA0CH,EAAE,EAAE,CAAC,CAACI,SAAS,CAAC;MAC3EC,IAAI,EAAEC,IAAI,IAAG;QACX,IAAI,CAACC,OAAO,GAAGD,IAAI;QACnBE,OAAO,CAACC,GAAG,CAACR,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,CAAC;MACzC,CAAC;MACDQ,KAAK,EAAEA,KAAK,IAAG;QACbF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;KACD,CAAC;EACJ;EACAC,QAAQ;IACN,MAAMX,EAAE,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IACrC,IAAI,CAACN,IAAI,CAACgB,GAAG,CAAC,0CAA0CZ,EAAE,EAAE,EAAE;MAC5Da,UAAU,EAAE,IAAI,CAACC,IAAI,CAACC,KAAK,CAACF,UAAU;MACtCG,SAAS,EAAE,IAAI,CAACF,IAAI,CAACC,KAAK,CAACC,SAAS;MACpCC,KAAK,EAAE,IAAI,CAACH,IAAI,CAACC,KAAK,CAACE,KAAK;MAC5BC,QAAQ,EAAE,IAAI,CAACJ,IAAI,CAACC,KAAK,CAACG;KAC3B,CAAC,CAACd,SAAS,CAAC;MACXC,IAAI,EAAGc,QAAa,IAAI;QACtBX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC;QACrB,IAAI,CAACpB,QAAQ,EAAE;MACjB,CAAC;MACDW,KAAK,EAAGA,KAAK,IAAI;QACfF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;KACD,CAAC;EACJ;;AAlCWhB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA0B;EAAAC;IAAA;;;;;;;;;;;;;MChB7BC,kCAAyC;MAM7BA,yBAAqE;MACnEA,6EACF;MAAAA,6BAAiB;MAAAA,YAAgD;MAAAA,iBAAK;MACtEA,6BAA2B;MAAAA,aAAmB;MAAAA,iBAAI;MAIxDA,+BAAsB;MAEZA;QAAA,OAAYC,cAAU;MAAA,EAAC;MAC7BD,gCAAuB;MAGDA,2BAAU;MAAAA,iBAAI;MAEhCA,gCAAsB;MACpBA,6BAAsF;MACxFA,iBAAM;MAERA,sBAAI;MACJA,+BAAiB;MAEGA,0BAAS;MAAAA,iBAAI;MAE/BA,gCAAsB;MACpBA,6BAAoF;MACtFA,iBAAM;MAERA,sBAAI;MACJA,+BAAiB;MAEGA,sBAAK;MAAAA,iBAAI;MAE3BA,gCAAsB;MACpBA,6BAAsG;MACxGA,iBAAM;MAERA,sBAAI;MACJA,+BAAiB;MAEGA,yBAAQ;MAAAA,iBAAI;MAE9BA,gCAAsB;MACtBA,6BAIY;MACZA,iBAAM;MAKVA,sBAAI;MACJA,mCAA2D;MAAAA,qBAAI;MAAAA,iBAAS;;;MApDrDA,eAAgD;MAAhDA,iFAAgD;MACtCA,eAAmB;MAAnBA,uCAAmB","names":["ProfileComponent","constructor","http","router","route","ngOnInit","id","localStorage","getItem","get","subscribe","next","data","profile","console","log","error","onSubmit","put","first_name","form","value","last_name","email","password","response","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\integ-socialmedia\\frontend\\socialmedia\\src\\app\\pages\\profile\\profile.component.ts","C:\\laragon\\www\\integ-socialmedia\\frontend\\socialmedia\\src\\app\\pages\\profile\\profile.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\ninterface Profile {\n  id: number\n  first_name: string\n  last_name: string\n  email: string\n\n}\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent {\n  @ViewChild(\"myForm\")\n  form!: NgForm;\n  constructor(private http: HttpClient, private router: Router, private route: ActivatedRoute) {\n  }\n  profile = {} as Profile;\n  ngOnInit() {\n    const id = localStorage.getItem('id')\n    this.http.get<any>(`http://127.0.0.1:8000/api/user/details/${id}`).subscribe({\n      next: data => {\n        this.profile = data\n        console.log(localStorage.getItem('id'))\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    })\n  }\n  onSubmit() {\n    const id = localStorage.getItem('id')\n    this.http.put(`http://127.0.0.1:8000/api/user/details/${id}`, {\n      first_name: this.form.value.first_name,\n      last_name: this.form.value.last_name,\n      email: this.form.value.email,\n      password: this.form.value.password,\n    }).subscribe({\n      next: (response: any) => {\n        console.log(response)\n        this.ngOnInit()\n      },\n      error: (error) => {\n        console.error('There was an error!', error);\n      },\n    });\n  }\n}\n","<section style=\"background-color: #eee;\">\n  <div class=\"container py-5\">\n    <div class=\"row\">\n      <div class=\"col-lg-4\">\n        <div class=\"card mb-4\">\n          <div class=\"card-body text-center\">\n            <img src=\"https://bootdey.com/img/Content/avatar/avatar3.png\" alt=\"\">\n              class=\"rounded-circle img-fluid\" style=\"width: 150px;\">\n            <h5 class=\"my-3\">{{ profile.first_name }} {{ profile.last_name }}</h5>\n            <p class=\"text-muted mb-1\">{{ profile.email }}</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-lg-8\">\n        <div class=\"card mb-4\">\n          <form (ngSubmit)=\"onSubmit()\" #myForm=\"ngForm\">\n          <div class=\"card-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-3\">\n                <p class=\"mb-0\">First Name</p>\n              </div>\n              <div class=\"col-sm-9\">\n                <input name=\"first_name\" class=\"form-control\" placeholder=\"Enter first name\" ngModel/>\n              </div>\n            </div>\n            <hr>\n            <div class=\"row\">\n              <div class=\"col-sm-3\">\n                <p class=\"mb-0\">Last Name</p>\n              </div>\n              <div class=\"col-sm-9\">\n                <input name=\"last_name\" class=\"form-control\" placeholder=\"Enter last name\" ngModel/>\n              </div>\n            </div>\n            <hr>\n            <div class=\"row\">\n              <div class=\"col-sm-3\">\n                <p class=\"mb-0\">Email</p>\n              </div>\n              <div class=\"col-sm-9\">\n                <input name=\"email\" type=\"email\" class=\"form-control\" placeholder=\"Enter email\" type=\"email\"ngModel />\n              </div>\n            </div>\n            <hr>\n            <div class=\"row\">\n              <div class=\"col-sm-3\">\n                <p class=\"mb-0\">Password</p>\n              </div>\n              <div class=\"col-sm-9\">\n              <input  name=\"password\"\n                type=\"password\"\n                class=\"form-control\"\n                placeholder=\"Enter password\"\n                ngModel />\n              </div>\n            </div>\n           \n           \n          </div>\n          <br>\n          <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Edit</button>\n        </form>\n        </div>\n        \n              </div>\n            </div>\n          </div>\n \n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}