{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"myForm\"];\nexport class ProfileComponent {\n  constructor(http, router, route) {\n    this.http = http;\n    this.router = router;\n    this.route = route;\n    this.profile = {};\n  }\n  ngOnInit() {\n    const id = localStorage.getItem('id');\n    this.http.get(`http://127.0.0.1:8000/api/user/details/${id}`).subscribe({\n      next: data => {\n        this.profile = data;\n        console.log(localStorage.getItem('id'));\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n  onSubmit() {\n    const id = localStorage.getItem('id');\n    this.http.put(`http://127.0.0.1:8000/api/user/details/${id}`, {\n      first_name: this.form.value.first_name,\n      last_name: this.form.value.last_name,\n      email: this.form.value.email,\n      password: this.form.value.password\n    }).subscribe({\n      next: response => {\n        console.log(response);\n        this.ngOnInit();\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  viewQuery: function ProfileComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n    }\n  },\n  decls: 31,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"], [1, \"card-text\"], [\"routerLink\", \"/\", 1, \"btn\", \"btn-primary\"], [1, \"form-signin\", \"w-100\", \"m-auto\"], [3, \"ngSubmit\"], [\"myForm\", \"ngForm\"], [1, \"form-floating\"], [\"name\", \"first_name\", \"placeholder\", \"First Name\", \"ngModel\", \"\", 1, \"form-control\"], [\"name\", \"last_name\", \"placeholder\", \"Last Name\", \"ngModel\", \"\", 1, \"form-control\"], [\"name\", \"email\", \"type\", \"email\", \"placeholder\", \"Email\", \"type\", \"email\", \"ngModel\", \"\", 1, \"form-control\"], [\"name\", \"password\", \"type\", \"password\", \"placeholder\", \"Password\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"w-100\", \"btn\", \"btn-lg\", \"btn-primary\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h5\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h6\", 3);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\", 4);\n      i0.ɵɵtext(7, \"This is your user profile.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"a\", 5);\n      i0.ɵɵtext(9, \"Go back\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"main\", 6)(11, \"form\", 7, 8);\n      i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(13, \"div\", 9);\n      i0.ɵɵelement(14, \"input\", 10);\n      i0.ɵɵelementStart(15, \"label\");\n      i0.ɵɵtext(16, \"First Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 9);\n      i0.ɵɵelement(18, \"input\", 11);\n      i0.ɵɵelementStart(19, \"label\");\n      i0.ɵɵtext(20, \"Last Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 9);\n      i0.ɵɵelement(22, \"input\", 12);\n      i0.ɵɵelementStart(23, \"label\");\n      i0.ɵɵtext(24, \"Email address\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 9);\n      i0.ɵɵelement(26, \"input\", 13);\n      i0.ɵɵelementStart(27, \"label\");\n      i0.ɵɵtext(28, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"button\", 14);\n      i0.ɵɵtext(30, \"Edit\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate2(\" \", ctx.profile.first_name, \" \", ctx.profile.last_name, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.profile.email);\n    }\n  },\n  dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAgBA,OAAM,MAAOA,gBAAgB;EAG3BC,YAAoBC,IAAgB,EAAUC,MAAc,EAAUC,KAAqB;IAAvE,SAAI,GAAJF,IAAI;IAAsB,WAAM,GAANC,MAAM;IAAkB,UAAK,GAALC,KAAK;IAE3E,YAAO,GAAG,EAAa;EADvB;EAEAC,QAAQ;IACN,MAAMC,EAAE,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IACrC,IAAI,CAACN,IAAI,CAACO,GAAG,CAAM,0CAA0CH,EAAE,EAAE,CAAC,CAACI,SAAS,CAAC;MAC3EC,IAAI,EAAEC,IAAI,IAAG;QACX,IAAI,CAACC,OAAO,GAAGD,IAAI;QACnBE,OAAO,CAACC,GAAG,CAACR,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,CAAC;MACzC,CAAC;MACDQ,KAAK,EAAEA,KAAK,IAAG;QACbF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;KACD,CAAC;EACJ;EACAC,QAAQ;IACN,MAAMX,EAAE,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IACrC,IAAI,CAACN,IAAI,CAACgB,GAAG,CAAC,0CAA0CZ,EAAE,EAAE,EAAE;MAC5Da,UAAU,EAAE,IAAI,CAACC,IAAI,CAACC,KAAK,CAACF,UAAU;MACtCG,SAAS,EAAE,IAAI,CAACF,IAAI,CAACC,KAAK,CAACC,SAAS;MACpCC,KAAK,EAAE,IAAI,CAACH,IAAI,CAACC,KAAK,CAACE,KAAK;MAC5BC,QAAQ,EAAE,IAAI,CAACJ,IAAI,CAACC,KAAK,CAACG;KAC3B,CAAC,CAACd,SAAS,CAAC;MACXC,IAAI,EAAGc,QAAa,IAAI;QACtBX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC;QACrB,IAAI,CAACpB,QAAQ,EAAE;MACjB,CAAC;MACDW,KAAK,EAAGA,KAAK,IAAI;QACfF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;KACD,CAAC;EACJ;;AAlCWhB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA0B;EAAAC;IAAA;;;;;;;;;;;;;MChB7BC,8BAAuB;MAGbA,YACF;MAAAA,iBAAK;MACLA,6BAA0C;MAAAA,YAAmB;MAAAA,iBAAK;MAClEA,4BAAqB;MAAAA,0CAA0B;MAAAA,iBAAI;MACnDA,4BAA0C;MAAAA,uBAAO;MAAAA,iBAAI;MAG3DA,gCAAuC;MAC/BA;QAAA,OAAYC,cAAU;MAAA,EAAC;MAC3BD,+BAA2B;MACzBA,6BAKE;MACFA,8BAAO;MAAAA,2BAAU;MAAAA,iBAAQ;MAE3BA,+BAA2B;MACzBA,6BAKE;MACFA,8BAAO;MAAAA,0BAAS;MAAAA,iBAAQ;MAE1BA,+BAA2B;MACzBA,6BAOE;MACFA,8BAAO;MAAAA,8BAAa;MAAAA,iBAAQ;MAE9BA,+BAA2B;MACzBA,6BAME;MACFA,8BAAO;MAAAA,yBAAQ;MAAAA,iBAAQ;MAEzBA,mCAA2D;MAAAA,qBAAI;MAAAA,iBAAS;;;MAhDpEA,eACF;MADEA,mFACF;MAC0CA,eAAmB;MAAnBA,uCAAmB","names":["ProfileComponent","constructor","http","router","route","ngOnInit","id","localStorage","getItem","get","subscribe","next","data","profile","console","log","error","onSubmit","put","first_name","form","value","last_name","email","password","response","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\laragon\\www\\integ-socialmedia\\frontend\\socialmedia\\src\\app\\pages\\profile\\profile.component.ts","C:\\laragon\\www\\integ-socialmedia\\frontend\\socialmedia\\src\\app\\pages\\profile\\profile.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\ninterface Profile {\n  id: number\n  first_name: string\n  last_name: string\n  email: string\n\n}\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent {\n  @ViewChild(\"myForm\")\n  form!: NgForm;\n  constructor(private http: HttpClient, private router: Router, private route: ActivatedRoute) {\n  }\n  profile = {} as Profile;\n  ngOnInit() {\n    const id = localStorage.getItem('id')\n    this.http.get<any>(`http://127.0.0.1:8000/api/user/details/${id}`).subscribe({\n      next: data => {\n        this.profile = data\n        console.log(localStorage.getItem('id'))\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    })\n  }\n  onSubmit() {\n    const id = localStorage.getItem('id')\n    this.http.put(`http://127.0.0.1:8000/api/user/details/${id}`, {\n      first_name: this.form.value.first_name,\n      last_name: this.form.value.last_name,\n      email: this.form.value.email,\n      password: this.form.value.password,\n    }).subscribe({\n      next: (response: any) => {\n        console.log(response)\n        this.ngOnInit()\n      },\n      error: (error) => {\n        console.error('There was an error!', error);\n      },\n    });\n  }\n}\n","<div class=\"container\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          {{ profile.first_name }} {{ profile.last_name }}\n        </h5>\n        <h6 class=\"card-subtitle mb-2 text-muted\">{{ profile.email }}</h6>\n        <p class=\"card-text\">This is your user profile.</p>\n        <a routerLink=\"/\" class=\"btn btn-primary\">Go back</a>\n      </div>\n    </div>\n  <main class=\"form-signin w-100 m-auto\">\n    <form (ngSubmit)=\"onSubmit()\" #myForm=\"ngForm\">\n      <div class=\"form-floating\">\n        <input\n          name=\"first_name\"\n          class=\"form-control\"\n          placeholder=\"First Name\"\n          ngModel\n        />\n        <label>First Name</label>\n      </div>\n      <div class=\"form-floating\">\n        <input\n          name=\"last_name\"\n          class=\"form-control\"\n          placeholder=\"Last Name\"\n          ngModel\n        />\n        <label>Last Name</label>\n      </div>\n      <div class=\"form-floating\">\n        <input\n          name=\"email\"\n          type=\"email\"\n          class=\"form-control\"\n          placeholder=\"Email\"\n          type=\"email\"\n          ngModel\n        />\n        <label>Email address</label>\n      </div>\n      <div class=\"form-floating\">\n        <input\n          name=\"password\"\n          type=\"password\"\n          class=\"form-control\"\n          placeholder=\"Password\"\n          ngModel\n        />\n        <label>Password</label>\n      </div>\n      <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Edit</button>\n    </form>\n  </main>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}